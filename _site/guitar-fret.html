<!DOCTYPE html> <html lang="en"> <head> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1" /> <title>Guitar scales! Â· Another blog</title> <meta name="description" content="An implementation of a guitar fretboard, and a multitude of scales in d3. Based on code written by Austin Whittier here. It might take a second to load. I wr..."> <link rel="icon" href="http://localhost:4000//assets/favicon.png"> <link rel="apple-touch-icon" href="http://localhost:4000//assets/touch-icon.png"> <link rel="stylesheet" href="http://localhost:4000//assets/core.css"> <link rel="canonical" href="http://localhost:4000//guitar-fret"> <link rel="alternate" type="application/atom+xml" title="Another blog" href="http://localhost:4000//feed.xml" /> <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script> <script type="text/javascript" src="https://d3js.org/d3.v6.min.js"></script> <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@tonaljs/tonal/browser/tonal.min.js"></script> <script type="module" src="https://unpkg.com/guitarneck@1.0.2/src/index.js?module"></script> </head> <body> <aside class="logo"> <a href="http://localhost:4000//"> <img src="https://avatars1.githubusercontent.com/u/40207129?v=4" alt="" class="logo-avatar"> </a> <span class="logo-prompt code">Take me back!</span> </aside> <div id="content"> <article> <div class="center"> <h1 class="title">Guitar scales!</h1> <time class="code">February 7, 2021</time> </div> <div class="divider"></div> <p>An implementation of a guitar fretboard, and a multitude of scales in d3. Based on code written by Austin Whittier <a href="https://observablehq.com/@awhitty/fretboard#tonal">here</a>. It might take a second to load. I wrapped the fretboard code up into a class, so it may(?) be easier to use elsewhere if people want to! The code to get the dropdowns working is a bit knarly, and a bit more work may be done on it yet! See the source code <a href="https://github.com/Euphrasiologist/guitarneck">here</a>!</p> <p><select id="keyDropdown"></select></p> <p><select id="scaleDropdown"></select></p> <example> <script type="module"> import guitarneck from "https://unpkg.com/guitarneck@1.0.2/src/index.js?module"; d3.select("#keyDropdown") .selectAll('myKeyOpts') .data(["A", "B", "Bb", "C", "Db", "D", "Eb", "E", "F", "Gb", "G"]) .join('option') .text(d => d) .attr("value", d => d); d3.select("#scaleDropdown") .selectAll('myKeyopts') .data(Tonal.ScaleType.all().map(d => d.name)) .join('option') .text(d => d) .attr("value", d => d); let scale = d3.select("#keyDropdown").node().value + " " + d3.select("#scaleDropdown").node().value; const w = 1000, h = 300; const svg = d3.select("example").append("svg").attr("width", w).attr("height", h); svg.append("style").text(` svg { display: block; margin: auto; position: relative; left: -200px; } `); new guitarneck(svg).size(w, h).render(scale); function updateChart(key, scale) { let updatedScale = key + " " + scale; d3.select("svg").remove(); const svg = d3.select("example").append("svg").attr("width", w).attr("height", h); svg.append("style").text(` svg { display: block; margin: auto; position: relative; left: -200px; } `); new guitarneck(svg).size(w, h).render(updatedScale); } d3.select("#keyDropdown").on("change", function (d) { let selectedKey = this.value; updateChart(selectedKey, d3.select("#scaleDropdown").node().value) }); d3.select("#scaleDropdown").on("change", function (d) { let selectedScale = this.value; updateChart(d3.select("#keyDropdown").node().value, selectedScale) }); </script> </example> </article> <div class="page-navigation code"> <a class="home" href="http://localhost:4000//" title="Back to Index">Index</a> <span> &middot; </span> <a class="prev" href="http://localhost:4000//haystacks" title="PREV: Haystacks">&gt;&gt;</a> </div> </div> <div class="footer"> <span class="block">&copy; 2021 Max Brown</span> <!--<span class="block"><small>&lt;/&gt; Powered by <a href="https://jekyllrb.com/">Jekyll</a> and <a href="https://github.com/heiswayi/the-plain">The Plain theme</a>.</small></span>--> </div> </body> </html>
